<!DOCTYPE html>
<html lang="en">

<head>
    <base href="${baseUri}">
    <meta charset="utf-8">


    <meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no">
    <meta name="theme-color" content="#000000">

    <script nonce="${nonce}" type="module" src="dist/i18n.bundle.js"></script>
    <script nonce="${nonce}" type="module" src="node_modules/@vscode/webview-ui-toolkit/dist/toolkit.js"></script>
    <script nonce="${nonce}" type="module" src="dist/main.bundle.js"></script>
    <script nonce="${nonce}" type="module" src="dist/charts.bundle.js"></script>
    <script nonce="${nonce}" type="module" src="dist/screenplay.bundle.js"></script>

    <title>${pageTitle}</title>
</head>

<body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <code id="test-data-out"></code>
    <vscode-panels aria-label="Default" id="root-panel">
        <vscode-panel-tab id="tab-summary">
            <i18n-string case="upper">SUMMARY</i18n-string>
        </vscode-panel-tab>
        <vscode-panel-tab id="tab-characters">
            <i18n-string case="upper">CHARACTERS</i18n-string>
            <vscode-badge appearance="secondary">0</vscode-badge>
        </vscode-panel-tab>
        <vscode-panel-tab id="tab-locations">
            <i18n-string case="upper">LOCATIONS</i18n-string>
            <vscode-badge appearance="secondary">0</vscode-badge>
        </vscode-panel-tab>
        <vscode-panel-tab id="tab-scenes">
            <i18n-string case="upper">SCENES</i18n-string>
            <vscode-badge appearance="secondary">0</vscode-badge>
        </vscode-panel-tab>

        <vscode-panel-view id="view-summary">
            <article class="summary">
                <aside style="display: flex; flex-direction: row; gap: 1rem;">
                    <vscode-tag id="num-pages">0 Pages</vscode-tag>
                    <vscode-tag id="num-words">0 Words</vscode-tag>
                    <vscode-tag id="num-lines">0 Lines</vscode-tag>
                </aside>
                <section>
                    <h4>Most active characters</h4>
                    <screenplay-profiles-list id="top-three-profiles"></screenplay-profiles-list>
                </section>
                <section>
                    <h4>Most used locations</h4>
                    <p>Locations with largest cumulative duration</p>
                    <screenplay-locations-list id="top-three-locations"></screenplay-locations-list>
                </section>
            </article>
        </vscode-panel-view>

        <vscode-panel-view id="view-characters">
            <article class="characters">
                <h4><i18n-string case="title">Characters</i18n-string></h4>
                <section>
                    <h5><i18n-string case="title">Gender Representation</i18n-string></h5>
                    <div class="graph-grid">
                        <div class="graph-container">
                            <span class="graph-title"><i18n-string case="title">Speaking Roles</i18n-string></span>
                            <bar-chart id="characters-speaking-roles-by-gender" width="400" height="200"></bar-chart>
                        </div>
                        <div class="graph-container">
                            <span class="graph-title"><i18n-string case="title">Sentiment</i18n-string></span>
                            <bar-chart id="characters-sentiment-by-gender" width="400" height="200"></bar-chart>
                        </div>
                        <div class="graph-container">
                            <donut-chart id="characters-gender-dialogue" width="200" height="200"
                                title="Dialogue&#10;Duration"></donut-chart>
                        </div>
                        <div class="graph-container">
                            <span class="graph-title"><i18n-string case="title">Reading Age</i18n-string></span>
                            <bar-chart id="characters-gender-readingAge" width="400" height="200"></bar-chart>
                        </div>
                    </div>
                    <aside id="characters-gender-identity-fountainrc">
                        <p>
                            <i18n-string messageKey="NOTE_GENDER_IS_A_GUESS">
                                Please note: Gender is a guess based on character name. For more accurate gender
                                representation statistics, set characters' genders explicitly.
                            </i18n-string>
                        </p>
                        <vscode-button data-href=".fountainrc?create">
                            <i18n-string case="title">Open .fountainrc</i18n-string>
                        </vscode-button>
                    </aside>
                </section>
                <section>
                    <h5><i18n-string case="title">Representation by Racial Identity</i18n-string></h5>
                    <div class="graph-grid hide-if-no-racial-identity">
                        <div class="graph-container">
                            <span class="graph-title"><i18n-string case="title">Speaking Roles</i18n-string></span>
                            <bar-chart id="characters-speaking-roles-by-racial-identity" width="200" height="100"
                                title="Speaking Roles"></bar-chart>
                        </div>
                        <div class="graph-container">
                            <span class="graph-title"><i18n-string case="title">Sentiment</i18n-string></span>
                            <bar-chart id="characters-sentiment-by-racial-identity" width="200" height="100"
                                title="Sentiment"></bar-chart>
                        </div>
                        <div class="graph-container">
                            <donut-chart id="characters-racial-identity-dialogue" width="100" height="100"
                                title="Dialogue&#10;Duration"></donut-chart>
                        </div>
                        <div class="graph-container">
                            <span class="graph-title"><i18n-string case="title">Reading Age</i18n-string></span>
                            <bar-chart id="characters-racial-identity-readingAge" width="200" height="100"
                                title="Reading Age"></bar-chart>
                        </div>
                    </div>
                    <aside id="characters-racial-identity-fountainrc">
                        <p>
                            <i18n-string messageKey="NOTE_NO_RACIAL_DATA">
                                There's no data to display here because the Racial Identity of your characters haven't been
                                specified.
                                You can set the Racial Identiy of characters in the .fountainrc file.
                            </i18n-string>
                        </p>
                        <vscode-button data-href=".fountainrc?create">
                            <i18n-string case="title">Open .fountainrc</i18n-string>
                        </vscode-button>
                    </aside>
                </section>
                <section>
                    <vscode-data-grid id="grid-characters" aria-label="Default"></vscode-data-grid>
                </section>
            </article>
        </vscode-panel-view>
        <vscode-panel-view id="view-locations">
            <article>
                <vscode-data-grid id="grid-locations" aria-label="Default"></vscode-data-grid>
            </article>
        </vscode-panel-view>
        <vscode-panel-view id="view-scenes">
            <article>
                <screenplay-timeline id="scenes-timeline"></screenplay-timeline>
                <vscode-data-grid id="grid-scenes" aria-label="Default"></vscode-data-grid>
            </article>
        </vscode-panel-view>
    </vscode-panels>
</body>

</html>
